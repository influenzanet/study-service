
# <p align="center"> Response Table Structure in CASE </p>

Survey Responses from participants are stored in CASE in an object-oriented structure of MongoDB collections. However, for simpler processing and analysis by common analytic tools, this dataset is converted to a flat column-row structure saved in CSV format. We will describe the composition and structure of this table in the following.

The response of a single participant at a specific date to one questionnaire is presented by one row in the response table. The columns are composed of fixed columns, context columns, response columns and optional meta information columns.

## 1. Fixed columns

The first columns of the export table are fixed and independent of the used questionnaire.

### 1.1. Response ID

**Column Name:**  ```ID```

**Entries in Table:** an unique string identifier for each row of the export table.

### 1.2. Participant ID

**Column Name:**  ```participantID```

**Entries in Table:** the unique identifier string for each participant.

### 1.3. Survey Version

**Column Name:**  ```version```

**Entries in Table:** the version of questionnaire used in the survey

### 1.4. Opening Date

**Column Name:**  ```opened```

**Entries in Table:** the time as POSIX time timestamp when the participant has startet the questionnaire.

### 1.5. Submission Date

**Column Name:**  ```submitted```

**Entries in Table:** the time as POSIX time timestamp when the participant has submitted the questionnaire.

## 2. Context columns

Context data is a list of values with corresponding keys which is generated by submitting the survey response. It contains further survey information for instance the engine version or language used. Each entry of the context list defines an extra column in the response table.

Currently the context columns contain the following:

### 2.1. Engine Version

**Column Name:**  ```engineVersion```

**Entries in Table:** the engine version of CASE used to generate the survey

### 2.2. Language

**Column Name:**  ```language```

**Entries in Table:** the language used in the survey questionnaire.

## 3. Response columns

Response columns are dynamic columns depending on the kind of questions asked in the specified survey. They present the answers given by the respondent to the questionnaire.

Questions have different types. The question type defines how questions are displayed in the questionnaire and what kind of answers the respondent can provide. The following question types are available in CASE:

1. Text
2. Number
3. Date
4. Single Choice
5. Multiple Choice
6. Input List
7. Dropdown
8. Likert/Responsive Arrays
9. Slider/eq5d_slider
10. Cloze
11. Matrix
12. Unknown
13. Empty

In the following we will describe:

* the definition and features of each question type
* the process of mapping the response data to the CSV export table for each question type.
* the naming of the columns.

The following indentifiers are needed in order to name and address the export table columns and their content:

* **question key**: Each question has an unique key as string. It is denoted here with *qK*.
* **seperator**: a character defined by the survey designer that serves as separator for constructing the names of the columns. It is denoted with *sep*.
* **option key**: each option of a specific question has a unique key. The *i*-th option key of question *qK* with *n* options is denoted as *optK<sub>i</sub>, i = 1,..,n,*.
* **slot key**: questions may consist of several subitems of questions (denoted as question group or matrix). A question slot of a question *quK* with *m* slots  is addressed with the unique key *slotK<sub>j</sub>, j = 1,..,m*.

Entries of questions either not displayed or not answered remain empty.

### 3.1. Free Input Field

**Definition:** The participant enters free text in an input field as response to a question.

**Format:** The response of a free input field question is represented by one column. Each entry contains the entered input value of the field. If the participant does not enter any value the corresponding entry is empty.

**Column Name:**  *qK*

**Entries in Table:** the text (as string) entered by the respondent

**Example for saving the answer of a free input field in the response table:**

```participantID``` | ```version``` | ```submitted``` | ... | *qK* |...
------------ | ------------- | -------| --- | --- | -------
ID 1 | v1 | date 1 | ... | *input value* | ...
ID 2 | v1 | date 2 | ... | |...
ID 2 | v1 | date 3 | ... | *input value* |...
ID 3 | v1 | date 4 | ... | *input value*|...
... | ... | ... | ... |...

### 3.2. Number Input

**Definition:** The participant enters a number in an input field as response to a question.

**Format:** The response of a number input field question is represented by one column. Each entry contains the entered value of the field. If the participant does not enter any number the corresponding entry is empty.

**Column Name:**  *qK*

**Entries in Table:** the number entered by the respondent.

### 3.3. Date Questions

**Definition:** The participant has to choose a specific date. This can be either a year and/or month from a dropdown menu or a year, a month and a day from a predefined calendar.

**Format:** The response of a date question is represented by one column. Each entry contains the entered date as POSIX time stamp. If the participant does not enter any value the corresponding entry is empty.

**Column Name:**  *qK*

**Entries in Table:** the date as POSIX time entered by the respondent.

### 3.4. Single Choice

**Definition:** The participant can choose exact one answer from a predefined list of response options. An optional input field for text, dates, numbers etc. is possible for each response option.

**Format:**  The response of a single-choice question is represented by one column. Each entry contains the unique key of the chosen response option of the specific respondent at the specified date. In case of optional input fields an additional column for each response option is added. It contains the input value of the field corresponding to the respective response option. Entries without valid input values (due to nothing entered, not the chosen response option or not displayed) are empty.

**Column Name:**

* for single choice answer column: *qK*
* for an additional input field column for option *i*: *qK* + *sep* + *optK<sub>i</sub>, i = 1,..,n.*

**Entries in Table:**

* for single choice answer column: the option key *optK<sub>i</sub>* chosen by the respondent
* for an additional input field column for option *i*: the entered value

**Example for saving a single-choice question without input fields in response table:**

Part. ID | ```submitted```  | ... | *qK* | ...
------------ | ------------- | ---------------- | ------- | ---
ID 1 | date 1 | ... | *optK<sub>1</sub>* | ...
ID 2 | date 2 | ... | *optK<sub>3</sub>* | ...
ID 2 | date 3 | ... | *optK<sub>1</sub>* | ...
ID 3 | date 4 | ... | *optK<sub>2</sub>* | ...
... | ... | ... | ... | ...

**Example for saving a single-choice question with 3 options and additional input fields in response table:**

Part. ID | ```submitted```  | ... | *qK* | *qK* + *sep* + *optK<sub>1</sub>* | *qK* + *sep* + *optK<sub>2</sub>*  | *qK* + *sep* + *optK<sub>3</sub>*  |...
------------ | ------------- | ---------------- | ------- | --- | -------| -------| -------
ID 1 | date 1 | ... | *optK<sub>1</sub>* | *input value* ||| ...
ID 2 | date 2 | ... | *optK<sub>3</sub>* | | | *input value*  |...
ID 2 | date 3 | ... | *optK<sub>1</sub>* | *input value* |||...
ID 3 | date 4 | ... | *optK<sub>2</sub>* | |*input value* | |...
... | ... | ... | ... | ... |... | ... |...

#### 3.4.1 Special case: Single Choice Group

**Definition:** A Single Choice Group is a sequence of multiple successive single choice questions. These Groups are useful to condense questions that ask for different aspects of one mutual topic (for example the grade of each symptom of one disease). Single Choice groups can contain additional input fields for text, date and numbers.

**Format:** Single Choice Groups are presented in successive columns. Let *qK* be a single choice group question with *m* response slots and each slot having *n* options. Then each response slot with key *slotK<sub>j</sub>, j = 1,..,,m* has its own column containing the option key *optK<sub>ji</sub>, i = 1,..,n*, chosen by the respondent. In case of optional input fields additional columns are added for each field.

**Column Name:**

* for single choice answer columns: *qK* + *sep* + *slotK<sub>j</sub>, j = 1,..,m,*
* for an additional input field column for option *i* of slot *j*: *qK + sep + slotK<sub>j</sub> + + "."+ optK<sub>ji</sub>, j = 1,..,m, i = 1,...,n.*

**Entries in Table:**

* for a single-choice answer column: the option key *optK<sub>ji</sub>* chosen by the respondent
* for an additional input field column at option *ji*: the entered value

**Example for a single-choice Group with additional input fields in response table:**

Suppose a single choice group question *qK* consists of *m* slots with 3 radio button options plus input fields for each option. The structure of this single choice group may looks like this in the questionnaire:

> **Question *qK*:**
>
> Response Slot 1
>
> * Option 11
>   * input 11
> * Option 12
>   * input 12
> * Option 13
>   * input 13
>
> Response Slot 2
>
> * Option 21
>   * input 21
> * Option 22
>   * input 22
> * Option 23
>   * input 23
>
> .
> .
> .
>
> Response Slot m
>
> * Option m1
>   * input m1
> * Option m2
>   * input m2
> * Option m3
>   * input m3

The Responses for this question are saved  in the response table like the following:

Part. ID | Sub. Date | ... |*qK* + *sep* + *slotK<sub>1</sub>* | *qK* + *sep* + *slotK<sub>1</sub>* + "."+ *optK<sub>11</sub>*   |*qK* + *sep* + *slotK<sub>1</sub>* + "."+ *optK<sub>12</sub>*| *qK* + *sep* + *slotK<sub>1</sub>* + "."+ *optK<sub>13</sub>*| *qK* + *sep* + *slotK<sub>2</sub>*  |*qK* + *sep* + *slotK<sub>2</sub>* + "."+ *optK<sub>21</sub>* |...|*qK* + *sep* + *slotK<sub>m</sub>* + "."+ *optK<sub>m3</sub>*
------------ | ------------- | ---------------- | ------- | --- | -------| -------| -------| -------| -------| -------
ID1 | d1 | ... |*optK<sub>11</sub>*  | *input value* ||| *optK<sub>22</sub>*|| ...|*input value*
ID2 | d2 | ... |*optK<sub>13</sub>*  | | | *input value*  | *optK<sub>23</sub>*||...|
ID2 | d3 | ... | *optK<sub>11</sub>*  | *input value* ||| *optK<sub>21</sub>*|*input value*|...|
ID3 | d4 | ... | *optK<sub>12</sub>*  | |*input value* | | *optK<sub>21</sub>*|*input value* |...|
... | ... | ... | ... | ... |... | ... |...| ... |...|...|

### 3.5. Multiple Choice

**Definition:** The participant can choose any answer from a predefined list of response options displayed as checkboxes. Each response option can involve an optional input field for text, dates, numbers etc.

**Format:**  Each response option of a multiple-choice question is represented by one column. The entries are either `TRUE` or `FALSE` depending if the specific option is selected or not. In case of optional input fields additional columns are added for each field. Entries without valid input values (due to nothing entered, not the chosen response option or not displayed) are empty.

**Column Name:**

* for the column of multiple choice option *i*: *qK + sep + optK<sub>i</sub>, i = 1,...,n.*
* for an additional input field column for option *i*: *qK + sep + optK<sub>ji</sub> + sep* + "open", *j = 1,..,m, i = 1,...,n.*

**Entries in Table:**

* for the column of multiple choice option *i*: `TRUE` if the respondent selected the checkbox, `FALSE` if not.
* for an additional input field column for option *i*: the entered value

**Example for saving a multiple-choice question without input fields in the response table:**

Part. ID | Submission Date | ... | *qK* + *sep* + *optK<sub>1</sub>* | *qK* + *sep* + *optK<sub>2</sub>* |*qK* + *sep* + *optK<sub>3</sub>* | ...
------------ | ------------- | ---------------- | ------- | --- | ---------------- | ------ |
ID 1 | date 1 | ... | `TRUE` | `FALSE` |`FALSE` |...
ID 2 | date 2 | ... | `FALSE` | `TRUE` | `FALSE`|...
ID 2 | date 3 | ... | `FALSE` | `FALSE` |`FALSE` |...
ID 3 | date 4 | ... | `FALSE` | `TRUE` | `FALSE` |...
... | ... | ... | ... | ... | ... |...

**Example for saving a multiple-choice question with additional input fields in the response table:**

Part. ID | Submission Date | ... | *qK* + *sep* + *optK<sub>1</sub>* | *qK* + *sep* + *optK<sub>1</sub>* + *sep* + "open" |*qK* + *sep* + *optK<sub>2</sub>* | *qK* + *sep* + *optK<sub>2</sub>*+ *sep* + "open" | ...
------------ | ------------- | ---------------- | ------- | --- | ---------------- | ------ | ------ |
ID 1 | date 1 | ... | `TRUE` | *input value* |`TRUE`| *input value* |...
ID 2 | date 2 | ... | `TRUE` | *input value* | `FALSE`||...
ID 2 | date 3 | ... | `FALSE` |  |`FALSE` ||...
ID 3 | date 4 | ... | `FALSE` |  | `TRUE` | *input value* |...
... | ... | ... | ... | ... | ... |... |...

#### 3.5.1 Multiple Choice Group

**Definition:** Multiple choice questions can also be grouped as a sequence of successive question slots just as for single choice questions described above. They also can contain input fields for text, date and numbers.

**Format:** Each response option of each slot of a multiple-choice question group is represented by one column. The entries are either `TRUE` or `FALSE` depending if the specific option is selected or not. In case of optional input fields additional columns are added for each field.

**Column Name:**

* for the column of multiple choice option *i* of slot *j*: *qK* + *sep* + *slotK<sub>j</sub>* + "." + *optK<sub>ji</sub>, j = 1,..,m, i = 1,...,n.*
* for an additional input field column at option *i*: *qK* + *sep* + *slotK<sub>j</sub>* + "." + *optK<sub>ji</sub>* + *sep* + "open", *j = 1,..,m, i = 1,...,n.*

**Entries in Table:**

* for the column of multiple choice option *i* of slot *j*: `TRUE` if the respondent marked the checkbox, `FALSE` if not.
* for an additional input field column for option *i* of slot *j*: the entered value

**Example for a multiple-choice group question with additional input fields in response table:**

We take the structure and definitions of the example for single choice group questions from Section 3.4.1 above and assume it now to be a multiple choice group question consisting of *m* slots each having 3 check box options plus input fields for each option. With the definitions above a possible response table for a Multiple Choice group question could look like this:

Part. ID | Sub. Date | ... |*qK*+ *sep*+ *slotK<sub>1</sub>* +"."+ *optK<sub>11</sub>*| *qK*+ *sep*+ *slotK<sub>1</sub>* +"."+ *optK<sub>11</sub>* +*sep*+ "open" |qK*+*sep*+*slotK<sub>1</sub>*+"."+*optK<sub>12</sub>| *qK*+ *sep*+ *slotK<sub>1</sub>* +"."+ *optK<sub>12</sub>* +*sep*+ "open"  | *qK*+ *sep*+ *slotK<sub>1</sub>* +"."+ *optK<sub>13</sub>*| *qK*+ *sep*+ *slotK<sub>1</sub>* +"."+ *optK<sub>13</sub>* +*sep*+ "open"  |*qK*+ *sep*+ *slotK<sub>2</sub>* +"."+ *optK<sub>21</sub>*|...|*qK*+ *sep*+ *slotK<sub>m</sub>* +"."+ *optK<sub>m3</sub>* +*sep*+ "open"
------------ | ------------- | ---------------- | ------- | --- | -------| -------| -------| -------| -------| -------| -------
ID1 | d1 | ... | `TRUE` | *input value* |`FALSE`||`TRUE`|*input value* | `FALSE`|...|*input value*
ID2 | d2 | ... |`FALSE` | |`TRUE` | *input value*  |`TRUE`|*input value*|`FALSE`|...||
ID2 | d3 | ... | `TRUE` | *input value* |`FALSE`||`FALSE`||`TRUE`|...||
ID3 | d4 | ... | `FALSE` | |`FALSE` | |`TRUE`|*input value* |`TRUE`|...|*input value*|
... | ... | ... | ... | ... |... | ... |...| ... |...|...|...|

### 3.6. Input List

**Definition:** An Input List is a grouped series of input values. Similar to single choice or multiple choice groups it can be used to encapsualte similar questions to one question group.

**Format:** Each column of the export table presents an item slot with key *slotK<sub>j</sub>* of an input list with *m* slots.

**Column Name:** *qK* + *sep* + *slotK<sub>j</sub>, j = 1,..,m*

**Entries in Table:** the entered value

**Example for saving an input list with 3 successive input fields:**

Part. ID | Submission Date | ... | *qK* + *sep* + *slotK<sub>1</sub>* | *qK* + *sep* + *slotK<sub>2</sub>*  | *qK* + *sep* + *slotK<sub>3</sub>*  |...
------------ | ------------- | ---------------- | ------- | --- | -------| -------
ID 1 | date 1 | ... |  *input value* | *input value* | *input value* | ...
ID 2 | date 2 | ... | *input value* | *input value* | *input value*  |...
ID 2 | date 3 | ... |  *input value* |  |  |...
ID 3 | date 4 | ... | *input value* |*input value* | *input value* |...
... | ... | ... | ... | ... |... | ... |...

**Remark:** Input Lists are deprecated. It is recommended to use Cloze Questions instead.

### 3.7. Dropdown Questions

**Definition:** The participant selects one answer option from a dropdown menu. Additional input value fields are not allowed for Dropdown questions.

**Format:** The response of a Dropdown question is represented by one column. Each entry contains the unique key of the chosen response option.

**Column Name:**  *qK*

**Entries in Table:** the option key *optK<sub>i</sub>* chosen by the respondent.

**Remark:** Dropdown group questions are also possible. These are saved and exported just like single choice groups (without the possibility of additional input fields).

### 3.8. Likert Scale Questions

**Definition:** Likert Scale questions are a special case of single-choice questions as they measure personal opinions or feelings to a statement. The respondent selects the most appropriate level of agreement or disagreement on a symmetric scale for a series of attitudes for example starting at "strongly disagree" scaling up to "strongly agree". The option type is radio button. Additional input value fields are not possible for Likert Scale questions.

**Format:** The response of a Likert Scale question is represented by one column. Each entry contains the unique key of the chosen response option.

**Column Name:**  *qK*

**Entries in Table:** the option key *optK<sub>i</sub>* chosen by the respondent

**Remark:** Likert Group questions are also possible. These are saved and exported just like single choice groups.

**Example for saving a Likert-scale question in response table:**

Part. ID | Submission Date | ... | *qK* | ...
------------ | ------------- | ---------------- | ------- |---
ID 1 | date 1 | ... | *optK<sub>1</sub>* |...
ID 2 | date 2 | ... | *optK<sub>3</sub>* |...
ID 2 | date 3 | ... | *optK<sub>2</sub>* |...
ID 3 | date 4 | ... | *optK<sub>2</sub>* |...
ID 3 | date 5 | ... | *optK<sub>1</sub>* |...
... | ... | ... | ... |...

### 3.8.1 Special Case: Responsive Bipolar Likert Array

Responsive Bipolar Likert Arrays are Likert Group Questions that can be displayed in a special format: the respondent chooses a balance between two poles labeled with their strongest manifestation at this respective direction. Their option keys *optK<sub>ji</sub>* often have bipolar symmetric values (e.g. *{-2,-1,0,1,2}* for *5* radio options for each row). They are saved and exported just like Single Choice Groups.

### 3.8.2 Special Case: Responsive Single Choice Array

Responsive Single Choice Arrays are displayed in a more dynamical format than simple Likert Group questions. For example the layout of radio button labels adjusts automatically to different screen sizes and text formatting for headers of response rows is possible. Responsive Single Choice Arrays are saved and exported just like Likert Group Questions.

### 3.9. Slider Scale/eq5d_slider

**Definition:** In principle slider scale questions are numerical input questions that are displayed as sliders to the participant. They are a more interactive alternative as the respondents drag a bar to their most appropriate level of preference instead of selecting a scale point or entering a number. Both, horizontal and vertical sliders are possible. For instance, the EQ-5D score is typically assessed by using a vertical slider with a range from 0 to 100 points (EQ VAS) in order to rate the personal health status.

**Format:** The format in the response table is just as for numerical input fields displaying the numerical value of the adjusted response option.

**Column Name:**  *qK*

**Entries in Table:** the number selected by the respondent.

### 3.10 Cloze Questions

#### 3.10.1 Simple Cloze Questions

**Definition:** Cloze Questions consist of multiple different input types within one question. Possible input types are dropdown, free text input, numeric input or date input. Similar to Single Choice Groups and Multiple Choice Groups, Cloze Groups are also possible. These are a sequence of multiple successive cloze questions.

**Format:** Each response option of a cloze question is represented by one column. The values of the entries are depending on the respective input type. Entries without valid input values (due to nothing entered, not the chosen response option or not displayed) are empty.

**Column Name:**

* for the response option *i* of a simple cloze question: *qK* + *sep* + *optK<sub>i</sub>, i = 1,..,n.*
* Cloze Groups: for the response option *i* of slot *j*: *qK + sep + slotK<sub>j</sub> + + "."+ optK<sub>ji</sub>, j = 1,..,m, i = 1,...,n.*

**Entries in Table:**

* the entered value

**Example for simple cloze question:**

> **Question *qK*:** Please fill in:
> Name of medication: *free text input option 1*
> start of medication: *date input 2*
> number of doses per week: *numeric input 3*
> reason for medication: *dropdown option 4*

Corresponding response table:

Part. ID | Subm. Date | ... | *qK* + *sep* + *opt<sub>1</sub>* | *qK* + *sep* + *opt<sub>2</sub>*  | *qK* + *sep* + *opt<sub>3</sub>*  |*qK* + *sep* + *opt<sub>4</sub>* |...
------------ | ------------- | ---------------- | ------- | --- | --- |-------| -------
ID 1 | date 1 | ...  | *input value* |*date* | *numeric value* |  *dropdown key*|  ...
ID 2 | date 2 | ... |  *input value* |*date* | *numeric value* |  *dropdown key*|  ...
ID 2 | date 3 | ... |  |  | | |...
ID 3 | date 4 | ... | *input value* |*date* | | *dropdown key* |...
... | ... | ... | ... | ... |... | ... |... |...

#### 3.10.2 Cloze types in MCG and SCG Questions

**Definition:** Multiple "mixed" input types can also be used within single or multiple choice group questions.

**Format:** The format in the response table is consistent to the respective question type: for SCG questions the first column contains the selected key, followed by one extra column for each cloze input option. In MCG questions each response option is represented by one column. The entries are either `TRUE` or `FALSE` depending if the specific option is selected or not. For each cloze input field one extra column is added.

**Column Name:**

* for the column of cloze input option *i* of SCG/MCG slot *j*: *qK* + *sep* + *slotK<sub>j</sub>* + "." + *optK<sub>ji</sub>, j = 1,..,m, i = 1,...,n.*

**Entries in Table:**

* the entered value

### 3.11. Matrix Questions

**Definition:** In the questionnaire, questions with related topics can be grouped as a matrix by structuring the answer options in rows and columns. Displaying similar questions in a matrix-like layout helps to improve the clarity of the survey questionnaire.
 A row of this matrix can either represent

* one single choice question consisting exclusively of radio buttons (type Likert scale or single choice)
* or other types of answer options (dropdown, input, checkbox) which can also be mixed by type in one row.

#### 3.11.1. Single Choice and Likert Scale Matrix Row Questions

**Format:**  Let *qK* be a matrix question with *m* rows and with the *j*-th row (denoted as slot) of type radio button (which means single choice or Likert scale question) having *n* options. The key of this row is denoted as *slotK<sub>j</sub>*. This row is presented by one column in the export table containing the option key *optK<sub>ji</sub>, i = 1,..,n* selected by the respondent.

**Column Name:** for the column of matrix row *j*: *qK* + *sep* + *slotK<sub>j</sub>.*

**Entries in Table:** for the column of matrix row j: the option key *optK<sub>ji</sub>* chosen by the respondent

**Example for a Likert Scale Question Matrix**:

Suppose we have a Likert Scale Question Matrix with unique keys *optK<sub>ji</sub>, j=1,...,4, i = 1,...3,* denoting the ith answer option of statement row *j, j = 1,...4*. The question matrix may looks like this in the questionnaire  (displaying corresponding option keys instead of the buttons here):

**Question: How is your level of agreement with each statement?**
Corresp. Statement| strongly agree | agree | neutral | disagree | strongly disagree
------- | ------- |------- | ------- |------- |-------
Statement 1 | *optK<sub>11</sub>* | *optK<sub>12</sub>* | *optK<sub>13</sub>* | *optK<sub>14</sub>* |*optK<sub>15</sub>*
Statement 2 | *optK<sub>21</sub>* | *optK<sub>22</sub>* | *optK<sub>23</sub>* | *optK<sub>24</sub>* |*optK<sub>25</sub>*
Statement 3 | *optK<sub>31</sub>* | *optK<sub>32</sub>* | *optK<sub>33</sub>* | *optK<sub>34</sub>* |*optK<sub>35</sub>*
Statement 4 | *optK<sub>41</sub>* | *optK<sub>42</sub>* | *optK<sub>43</sub>* | *optK<sub>44</sub>* |*optK<sub>45</sub>*

The chosen responses of each respondent at the specific date are then saved in the response table like the following:

Part. ID | Submission Date | ... | *qK* + *sep* + *slotK<sub>1</sub>* | *qK* + *sep* + *slotK<sub>2</sub>*  | *qK* + *sep* + *slotK<sub>3</sub>*  |*qK* + *sep* + *slotK<sub>4</sub>* |...
------------ | ------------- | ---------------- | ------- |--- |--- |--- |---
ID 1 | date 1 | ... | *optK<sub>11</sub>* | *optK<sub>21</sub>* | *optK<sub>35</sub>* | *optK<sub>44</sub>* |...
ID 2 | date 2 | ... | *optK<sub>14</sub>* | *optK<sub>23</sub>*| *optK<sub>33</sub>* | *optK<sub>43</sub>*| ...
ID 2 | date 3 | ... | *optK<sub>13</sub>* | *optK<sub>22</sub>* | *optK<sub>31</sub>* | *optK<sub>41</sub>*|...
ID 3 | date 4 | ... | *optK<sub>11</sub>* | *optK<sub>25</sub>* | *optK<sub>32</sub>* |*optK<sub>44</sub>*|...
... | ... | ... | ... |... |... |... |...

#### 3.11.2. Other Types in Matrix Questions

**Format:** For types of options like input, checkbox or dropdown each matrix entry is handled as a separate slot with key *slotK<sub>j</sub>* and has its own column in the response table. A matrix with *m* rows and *n* columns has overall *n x m* slots (without radio rows who are comprised to one slot!). The entry in the table is either the input value, `TRUE`/`FALSE` or the selected option key depending on the type of question.

**Column Name:** for the column corresponding to matrix slot *j*: *qK* + *sep* + *slotK<sub>j</sub>.*

**Entries in Table:**

* question type text or number input (slider not implemented yet): the entered value
* question type dropdown: for slot *slotK<sub>j</sub>* the selected option key *optK<sub>ji</sub>, i=1,..n,*
* question type checkbox: `TRUE` or `FALSE` depending if the specific option is selected or not.

**Remark:** a multiple choice question in a matrix is generated by defining a seperate slot for each single checkbox.

**Example for a mixed Checkbox and Input Question Matrix**:
Suppose a specified participant responded to a mixed Multiple Choice (composed from two checkbox slots) and Input Question Matrix in the following way:

Corresp. Item| Issue 1 | Issue 2 | Issue 3 | Issue 4
------- | ------- |------- | ------- |----
Item 1 | `TRUE`| `FALSE`| *input value*| *input value*
Item 2 | `FALSE` | `TRUE`| *input value* | *input value*| *input value*
Item 3 | `FALSE` | `TRUE`| *input value* | *input value*| *input value*

Consequently, this matrix has *4x3=12* slots with keys *slotK<sub>j</sub>, j=1,..12*. The answers of this matrix are presented by 12 columns in the corresponding response table  containing the following entries:

Part. ID | Subm. Date | ... | *qK* + *sep* + *slotK<sub>1</sub>* | *qK* + *sep* + *slotK<sub>2</sub>* | *qK* + *sep* + *slotK<sub>3</sub>* | *qK* + *sep* + *slotK<sub>4</sub>* | *qK* + *sep* + *slotK<sub>5</sub>*  |...| *qK* + *sep* +*slotK<sub>12</sub>*
------------ | ------------- | ---------------- | ------- |--- |--- |--- |--- |--- |---
...| ... | ... | ...| ...| ... |...|...|...|...
ID i | date j | ... | `TRUE`| `FALSE`| *input value*| *input value*| `FALSE`|...| *input value*|
... | ... | ... |... | ...| ...|...|...|...|...

### 3.12 Unknown

**Definition:** A question that is not assigned to a certain type is defined to be unknown. The handling with these kind of questions depends on its specific types of answer options.

**Format:** For each answer option of each question slot its type is checked: if it is type dropdown or radio button there is one column for each slot containing the chosen option key by the respondent. Any other type of option implies one column for each answer option containg the input value (numeric, text, `TRUE`/`FALSE`).

**Column Name:**

* for columns of slot *j* with dropdown or radio button option types: *qK* + *sep* + *slotK<sub>j</sub>, j = 1,..,m,*
* for columns of slot *j* with any other type of option *i*: *qK* + *sep* + *slotK<sub>j</sub>* + "." + *optK<sub>ji</sub>*, *j = 1,..,m, i = 1,...,n.*

**Entries in Table:**

* for columns of slot *j* with dropdown or radio option types : *optK<sub>ji</sub>* selected by the respondent
* for columns of slot *j* with any other type: the entered value or `TRUE`/`FALSE` for checkbox.

### 3.13 Empty

**Definition:** A question containing no content or information is declared as empty and will be ignored.

## 4. Meta information columns

Optional meta columns contain further information about the specific survey items. The requested meta information is added with one extra column per Meta Option provided for each question item.

The following Meta information can be delivered additionally for each question item:

1. Position: position index of the question in the questionnaire
    * **Column Name:** *qK* + *sep* + `metaPosition`
2. Initialised: timestamp when item was added to survey tree which means the date when condition for displaying the specified item was fulfilled
    * **Column Name:** *qK* + *sep* + `metaInit`
3. Displayed: timestamp when item was displayed on the desktop
    * **Column Name:** *qK* + *sep* + `metaDisplayed`
4. Responded: timestamp when answer was given for the specified question
    * **Column Name:** *qK* + *sep* + `metaResponse`

## 5. Response Table Formats

The response table can be saved in two different kind of formats:

1. wide
2. long

### 5.1. Format "wide"

The format "wide" is the classical format described in the sections above. This means there is one row for each participant at a specified date. The question responses are saved in one column per question slot.

### 5.2. Format "long"

The response table in format "long" has a predetermined amount of columns with the following fixed column names:

1. ```participantID```
2. ```version```
3. ```submitted```
4. ```engineVersion``` (+ more optional context columns)
5. ```responseSlot```
6. ```value```

The responses are ordered in rows instead of columns here meaning that each row represents the response to one single response slot of one participant at one specified date. The column named ```responseSlot``` indicates the names of the response slots. Their equivalents are the column names of the respective slots in the "wide" format.
The column named ```value``` represents the responses of each participant at the specified date to the respective question slot.

**Example:**

A possible Response Table in "long" format with the first question *qK<sub>1</sub>*  be a single-choice question with 3 options and additional input fields and the second question *qK<sub>2</sub>* be a number input question:

```participant``` ```ID``` | ```version``` | ```submitted``` | ```engine``` ```Version``` | ```responseSlot``` | ```value```
------------ | ------------- | ---------------- | ------- | --- | --
ID 1 | v1| date 1 | ev1 | *qK<sub>1</sub>* |  *optK<sub>2</sub>*
ID 1 | v1| date 1 | ev1 |  *qK<sub>1</sub>* + *sep* + *optK<sub>1</sub>* |
ID 1 | v1| date 1 | ev1 | *qK<sub>1</sub>* + *sep* + *optK<sub>2</sub>* |  *input value*
ID 1 | v1| date 1 | ev1 |*qK<sub>1</sub>* + *sep* + *optK<sub>3</sub>* |
ID 1 | v1| date 1 | ev1 |*qK<sub>2</sub>* |  *input value*
... | ... | ... | ... | ... | ...

**Remark:** Meta information columns are appended as rows at the end of this table in the same way as the responses.
